import{g as s,s as f,p as S}from"./showToast-BAmAYvOP.js";const g=(e,t)=>{let n=s().find(l=>l.id===e),o=1;return n&&(o=n.quantity,t=n.price),{quantity:o,price:t}},m=()=>{let e=document.querySelector(".productSubTotal"),t=document.querySelector(".productFinalTotal"),o=s().reduce((l,d)=>{let i=parseInt(d.price)||0;return l+i},0);e.textContent=`₹${o}`,t.textContent=`₹${o+50}`},q=(e,t,a,n)=>{const o=document.querySelector(`#card${t}`),l=o.querySelector(".productQuantity"),d=o.querySelector(".productPrice");let i=s(),r=i.find(p=>p.id===t),c=1,u=n;r&&(c=r.quantity,u=r.price),e.target.className==="cartIncrement"&&(c<a?c+=1:c===a&&(c=a)),e.target.className==="cartDecrement"&&c>1&&c--,u=c*n,u=Number(u.toFixed(2));let y=i.map(p=>p.id===t?{id:t,quantity:c,price:u}:p);r||y.push({id:t,quantity:c,price:u}),localStorage.setItem("cart-productslclstrg",JSON.stringify(y)),l&&d&&(l.textContent=c,d.textContent=`₹${u.toFixed(2)}`),m()},C=document.querySelector("#cartValue"),x=e=>C.innerHTML=` <i class="fa-solid fa-cart-shopping"> ${e.length} </i>`,h=e=>{let a=s().filter(o=>o.id!==e);localStorage.setItem("cart-productslclstrg",JSON.stringify(a));let n=document.getElementById(`card${e}`);n&&(n.remove(),f("delete",e)),x(a),m()};let v=s(),N=S.filter(e=>v.some(t=>t.id===e.id));const T=document.querySelector("#productCartContainer"),$=document.querySelector("#productCartTemplate"),I=()=>{N.forEach(e=>{const{id:t,name:a,category:n,price:o,stock:l,description:d,image:i}=e,r=document.importNode($.content,!0),c=g(t,o);r.querySelector("#cardValue").setAttribute("id",`card${t}`),r.querySelector(".category").textContent=n,r.querySelector(".productName").textContent=a,r.querySelector(".productImage").src=i,r.querySelector(".productQuantity").textContent=c.quantity,r.querySelector(".productPrice").textContent=c.price,r.querySelector(".remove-to-cart-button").addEventListener("click",()=>{h(t)}),r.querySelector(".stockElement").addEventListener("click",u=>{q(u,t,l,o)}),T.appendChild(r)})};I();m();
